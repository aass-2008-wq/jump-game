<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Cairo", sans-serif;
      background: #f4e7c3; /* Ø®Ù„ÙÙŠØ© Ø°Ù‡Ø¨ÙŠØ© ÙØ§ØªØ­Ø© */
      color: #543b00;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    #game {
      width: 100vw;
      max-width: 430px;
      aspect-ratio: 9 / 16;
      background: linear-gradient(#fff8e3, #f5d892);
      border: 3px solid #c9a341;
      border-radius: 18px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(180, 150, 60, 0.4);
    }

    /* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ */
    #hud {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 70px;
      background: rgba(255, 255, 255, 0.6);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 15px;
      color: #7a5200;
      font-weight: bold;
      z-index: 3;
    }

    #title {
      font-size: 17px;
      font-weight: 700;
    }

    /* Ø§Ù„Ù‡Ø¯Ù */
    #target {
      position: absolute;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      display: none;
      box-shadow: 0 0 15px rgba(200, 150, 20, 0.7);
      cursor: pointer;
      z-index: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 35px;
      color: #fff;
    }

    /* Ø§Ù„Ø£Ø±Ø¶ */
    #ground {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 85px;
      background: #e6c980;
      border-top: 3px solid #b89030;
    }

    /* Ù†Øµ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ */
    #footer {
      position: absolute;
      bottom: 8px;
      width: 100%;
      text-align: center;
      color: #7a5200;
      font-size: 14px;
      font-weight: bold;
    }

    /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© */
    .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.2);
      backdrop-filter: blur(4px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
      color: #654400;
      z-index: 5;
    }

    .overlay button {
      margin-top: 20px;
      padding: 12px 28px;
      font-size: 18px;
      font-weight: 700;
      border-radius: 10px;
      border: none;
      background: #d4a63f;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 0 8px rgba(150,110,20,0.5);
    }

    #gameOver {
      display: none;
    }
  </style>
</head>
<body>

<div id="game">

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
  <div id="hud">
    <div id="title">Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù â­</div>
    <div id="time">Ø§Ù„ÙˆÙ‚Øª: 30</div>
    <div id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</div>
  </div>

  <!-- Ø§Ù„Ù‡Ø¯Ù -->
  <div id="target"><span>â­</span></div>

  <!-- Ø§Ù„Ø£Ø±Ø¶ÙŠØ© -->
  <div id="ground"></div>

  <!-- Ù†Øµ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ -->
  <div id="footer">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div id="startScreen" class="overlay">
    <h1>Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù â­</h1>
    <p>Ø§Ù„Ù‡Ø¯Ù ÙŠØªØºÙŠØ± Ù„ÙˆÙ†Ù‡ ÙˆØ´ÙƒÙ„Ù‡ ÙƒÙ„ Ù…Ø±Ø© ğŸ¨</p>
    <p>ÙƒÙ„ 10 Ù†Ù‚Ø§Ø· ØªØ±ØªÙØ¹ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ ğŸ”¥</p>
    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© -->
  <div id="gameOver" class="overlay">
    <h1>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h1>
    <p id="finalScoreText"></p>
    <p>ğŸ“¸ ØµÙÙˆÙ‘Ø± Ø¯Ø±Ø¬ØªÙƒ ÙˆØ´Ø§Ø±Ùƒ Ø£ØµØ­Ø§Ø¨Ùƒ</p>
    <button onclick="restartGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>

</div>

<script>
  const game       = document.getElementById("game");
  const hud        = document.getElementById("hud");
  const target     = document.getElementById("target");
  const scoreEl    = document.getElementById("score");
  const timeEl     = document.getElementById("time");
  const startScr   = document.getElementById("startScreen");
  const gameOver   = document.getElementById("gameOver");
  const finalText  = document.getElementById("finalScoreText");

  let score = 0;
  let timeLeft = 30;
  let level = 1;
  let gameRunning = false;
  let timerId = null;

  /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØºÙŠØ±Ø© Ù„Ù„Ù‡Ø¯Ù */
  const colors = [
    "#fbbf24", "#ef4444", "#3b82f6", "#10b981", "#a855f7"
  ];

  const emojis = ["â­", "ğŸ’", "ğŸ”¥", "âš¡", "ğŸ¯"];

  function changeTargetStyle() {
    const color = colors[Math.floor(Math.random() * colors.length)];
    const emoji = emojis[Math.floor(Math.random() * emojis.length)];

    target.style.background = color;
    target.querySelector("span").textContent = emoji;
  }

  function moveTarget() {
    const gameRect = game.getBoundingClientRect();
    const hudHeight = 70;
    const size = target.offsetWidth;

    const x = Math.random() * (gameRect.width - size - 20) + 10;
    const y = Math.random() * (gameRect.height - size - 150) + hudHeight + 10;

    target.style.left = x + "px";
    target.style.top  = y + "px";

    changeTargetStyle();
  }

  function startGame() {
    score = 0;
    timeLeft = 30;
    level = 1;

    scoreEl.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0";
    timeEl.textContent = "Ø§Ù„ÙˆÙ‚Øª: 30";

    startScr.style.display = "none";
    gameOver.style.display = "none";
    target.style.display = "flex";

    gameRunning = true;
    moveTarget();

    if (timerId) clearInterval(timerId);

    timerId = setInterval(() => {
      timeLeft--;
      timeEl.textContent = "Ø§Ù„ÙˆÙ‚Øª: " + timeLeft;

      if (timeLeft <= 0) {
        endGame();
      }
    }, 1000);
  }

  function endGame() {
    gameRunning = false;
    target.style.display = "none";
    if (timerId) clearInterval(timerId);

    finalText.textContent = `Ø¯Ø±Ø¬ØªÙƒ: ${score} â€” Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}`;
    gameOver.style.display = "flex";
  }

  function restartGame() {
    startGame();
  }

  target.addEventListener("click", () => {
    if (!gameRunning) return;

    score++;
    scoreEl.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + score;
    moveTarget();

    /* Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© */
    if (score % 10 === 0) {
      level++;
      game.style.borderColor = colors[(level - 1) % colors.length];
    }
  });
</script>

</body>
</html>
