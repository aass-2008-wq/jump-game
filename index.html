<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: "Cairo", sans-serif;
      background: #f4e7c3;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: #543b00;
    }

    #game {
      width: 100vw;
      max-width: 430px;
      aspect-ratio: 9/16;
      background: linear-gradient(#fff8e3, #f5d892);
      border: 3px solid #c9a341;
      border-radius: 18px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 0 20px rgba(180,150,60,0.4);
    }

    /* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ */
    #hud {
      height: 70px;
      background: rgba(255,255,255,0.6);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 15px;
      color: #7a5200;
      font-weight: bold;
      z-index: 3;
    }

    /* Ø§Ù„Ù‡Ø¯Ù */
    #target {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      display: none;
      position: absolute;
      justify-content: center;
      align-items: center;
      font-size: 35px;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(200,150,20,0.7);
      z-index: 1;
    }

    /* Ø§Ù„Ø£Ø±Ø¶ÙŠØ© */
    #ground {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 85px;
      background: #e6c980;
      border-top: 3px solid #b89030;
    }

    /* Ø§Ù„Ø´Ø§Ø´Ø§Øª */
    .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.2);
      backdrop-filter: blur(4px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      color: #654400;
      z-index: 5;
    }

    .overlay button {
      margin-top: 18px;
      padding: 12px 26px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 10px;
      border: none;
      background: #d4a63f;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 0 8px rgba(150,110,20,0.5);
    }

    #gameOver { display: none; }
  </style>
</head>
<body>

<div id="game">

  <!-- HUD -->
  <div id="hud">
    <div id="title">Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù â­</div>
    <div id="time">Ø§Ù„ÙˆÙ‚Øª: 30</div>
    <div id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</div>
  </div>

  <!-- Ø§Ù„Ù‡Ø¯Ù -->
  <div id="target"><span>â­</span></div>

  <!-- Ø£Ø±Ø¶ -->
  <div id="ground"></div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div id="startScreen" class="overlay">
    <h1>Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù â­</h1>
    <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯Ù Ù‚Ø¨Ù„ Ø£Ù† ÙŠØ®ØªÙÙŠ.</p>
    <p>ÙƒÙ„ 10 Ù†Ù‚Ø§Ø· â†’ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ ğŸ”¥</p>
    <p style="margin-top:10px;font-size:14px;color:#8a6500;">
      Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ
    </p>
    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© -->
  <div id="gameOver" class="overlay">
    <h1>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h1>
    <p id="finalScoreText"></p>
    <p>ğŸ“¸ ØµÙÙˆÙ‘Ø± Ø¯Ø±Ø¬ØªÙƒ ÙˆØ´Ø§Ø±Ùƒ Ø£ØµØ­Ø§Ø¨Ùƒ</p>
    <button onclick="restartGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>

</div>

<script>
  const game       = document.getElementById("game");
  const hud        = document.getElementById("hud");
  const target     = document.getElementById("target");
  const scoreEl    = document.getElementById("score");
  const timeEl     = document.getElementById("time");
  const startScr   = document.getElementById("startScreen");
  const gameOver   = document.getElementById("gameOver");
  const finalText  = document.getElementById("finalScoreText");

  let score = 0;
  let timeLeft = 30;
  let level = 1;
  let gameRunning = false;
  let timerId = null;

  /* Ø£Ù„ÙˆØ§Ù† ÙˆØ£Ø´ÙƒØ§Ù„ Ø§Ù„Ù‡Ø¯Ù */
  const colors = ["#fbbf24","#ef4444","#3b82f6","#10b981","#a855f7"];
  const emojis = ["â­","ğŸ’","ğŸ”¥","âš¡","ğŸ¯"];

  function styleTarget() {
    const color = colors[Math.floor(Math.random() * colors.length)];
    const emoji = emojis[Math.floor(Math.random() * emojis.length)];

    target.style.background = color;
    target.innerHTML = `<span>${emoji}</span>`;
  }

  function moveTarget() {
    const r = game.getBoundingClientRect();
    const size = target.offsetWidth;

    const x = Math.random() * (r.width - size - 20) + 10;
    const y = Math.random() * (r.height - size - 150) + 80;

    target.style.left = x + "px";
    target.style.top  = y + "px";

    styleTarget();
  }

  function startGame() {
    score = 0;
    timeLeft = 30;
    level = 1;

    scoreEl.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0";
    timeEl.textContent = "Ø§Ù„ÙˆÙ‚Øª: 30";

    startScr.style.display = "none";
    gameOver.style.display = "none";
    target.style.display = "flex";

    gameRunning = true;
    moveTarget();

    if (timerId) clearInterval(timerId);

    timerId = setInterval(() => {
      timeLeft--;
      timeEl.textContent = "Ø§Ù„ÙˆÙ‚Øª: " + timeLeft;
      if (timeLeft <= 0) endGame();
    }, 1000);
  }

  function endGame() {
    gameRunning = false;
    target.style.display = "none";
    if (timerId) clearInterval(timerId);

    finalText.textContent = `Ø¯Ø±Ø¬ØªÙƒ: ${score} â€” Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}`;
    gameOver.style.display = "flex";
  }

  function restartGame() {
    startGame();
  }

  target.addEventListener("click", () => {
    if (!gameRunning) return;

    score++;
    scoreEl.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + score;
    moveTarget();

    if (score % 10 === 0) level++;
  });
</script>

</body>
</html>
