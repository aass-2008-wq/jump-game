<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Cairo", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    /* Ø¥Ø·Ø§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø© */
    #game {
      width: 100vw;
      max-width: 420px;
      aspect-ratio: 9 / 16;
      background: linear-gradient(#111, #3b2a00);
      border: 3px solid gold;
      border-radius: 16px;
      position: relative;
      overflow: hidden;
    }

    /* Ø´Ø±ÙŠØ· Ø£Ø¹Ù„Ù‰ */
    #hud {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 70px;
      background: rgba(0, 0, 0, 0.55);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 12px;
      color: gold;
      z-index: 2;
    }

    #title {
      font-size: 16px;
      font-weight: 700;
    }

    #score, #time {
      font-size: 16px;
      font-weight: 700;
    }

    /* Ø§Ù„Ù‡Ø¯Ù */
    #target {
      position: absolute;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, gold 40%, #c89b00 80%);
      box-shadow: 0 0 12px rgba(255, 215, 0, 0.8);
      display: none; /* ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨ */
      z-index: 1;
      cursor: pointer;
    }

    /* Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‡Ø¯Ù (Ù†Ø¬Ù…Ø©) */
    #target span {
      display: flex;
      width: 100%;
      height: 100%;
      align-items: center;
      justify-content: center;
      font-size: 30px;
    }

    /* Ø§Ù„Ø£Ø±Ø¶ÙŠØ© */
    #ground {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 80px;
      background: #201500;
      border-top: 3px solid gold;
    }

    /* Ù†Øµ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ */
    #footer {
      position: absolute;
      bottom: 8px;
      width: 100%;
      text-align: center;
      color: gold;
      font-size: 14px;
    }

    /* Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠØ© (Ø¨Ø¯Ø§ÙŠØ© / Ù†Ù‡Ø§ÙŠØ©) */
    .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
      color: gold;
      z-index: 3;
    }

    .overlay h1 {
      margin-bottom: 10px;
      font-size: 24px;
    }

    .overlay p {
      margin: 5px 0;
      font-size: 16px;
    }

    .overlay button {
      margin-top: 18px;
      padding: 10px 26px;
      font-size: 18px;
      font-weight: 700;
      border-radius: 10px;
      border: none;
      background: gold;
      color: #000;
      cursor: pointer;
    }

    #gameOver {
      display: none;
    }
  </style>
</head>
<body>

<div id="game">
  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
  <div id="hud">
    <div id="title">Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù</div>
    <div id="time">Ø§Ù„ÙˆÙ‚Øª: 30</div>
    <div id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</div>
  </div>

  <!-- Ø§Ù„Ù‡Ø¯Ù -->
  <div id="target"><span>â­</span></div>

  <!-- Ø§Ù„Ø£Ø±Ø¶ÙŠØ© ÙˆØ§Ù„Ø§Ø³Ù… -->
  <div id="ground"></div>
  <div id="footer">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div id="startScreen" class="overlay">
    <h1>Ù„Ø¹Ø¨Ø© Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù</h1>
    <p>ÙƒÙ„ Ù…Ø§ Ø¶ØºØ·Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© â­ ØªÙƒØ³Ø¨ Ù†Ù‚Ø·Ø©.</p>
    <p>Ø¹Ù†Ø¯Ùƒ 30 Ø«Ø§Ù†ÙŠØ© Ù„ØªØ­Ù‚Ù‚ Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø©.</p>
    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© -->
  <div id="gameOver" class="overlay">
    <h1>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h1>
    <p id="finalScoreText"></p>
    <p>ğŸ“¸ ØµÙÙˆÙÙ‘Ø± Ø¯Ø±Ø¬ØªÙƒ ÙˆØ´Ø§Ø±Ùƒ Ø£ØµØ­Ø§Ø¨Ùƒ.</p>
    <button onclick="restartGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>
</div>

<script>
  const game       = document.getElementById("game");
  const hud        = document.getElementById("hud");
  const target     = document.getElementById("target");
  const scoreEl    = document.getElementById("score");
  const timeEl     = document.getElementById("time");
  const startScr   = document.getElementById("startScreen");
  const gameOver   = document.getElementById("gameOver");
  const finalText  = document.getElementById("finalScoreText");

  let score = 0;
  let timeLeft = 30; // Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ
  let timerId = null;
  let gameRunning = false;

  function updateScore() {
    scoreEl.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + score;
  }

  function updateTime() {
    timeEl.textContent = "Ø§Ù„ÙˆÙ‚Øª: " + timeLeft;
  }

  // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù‡Ø¯Ù Ù„Ù…ÙƒØ§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¯Ø§Ø®Ù„ Ø¥Ø·Ø§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø©
  function moveTarget() {
    const gameRect = game.getBoundingClientRect();
    const hudRect  = hud.getBoundingClientRect();
    const size     = target.offsetWidth;

    const maxX = gameRect.width - size - 10;
    const minX = 10;
    const maxY = gameRect.height - size - 90; // ÙÙˆÙ‚ Ø§Ù„Ø£Ø±Ø¶ Ø¨Ù‚Ù„ÙŠÙ„
    const minY = hudRect.height + 10;

    const x = Math.random() * (maxX - minX) + minX;
    const y = Math.random() * (maxY - minY) + minY;

    target.style.left = x + "px";
    target.style.top  = y + "px";
  }

  function startGame() {
    score = 0;
    timeLeft = 30;
    gameRunning = true;
    updateScore();
    updateTime();

    startScr.style.display = "none";
    gameOver.style.display = "none";
    target.style.display = "block";

    // Ø£ÙˆÙ„ Ù…ÙƒØ§Ù† Ù„Ù„Ù‡Ø¯Ù
    moveTarget();

    // Ø¹Ø¯Ù‘Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª
    if (timerId) clearInterval(timerId);
    timerId = setInterval(() => {
      if (!gameRunning) return;
      timeLeft--;
      updateTime();
      if (timeLeft <= 0) {
        endGame();
      }
    }, 1000);
  }

  function endGame() {
    gameRunning = false;
    target.style.display = "none";
    if (timerId) clearInterval(timerId);
    finalText.textContent = "Ø¯Ø±Ø¬ØªÙƒ: " + score;
    gameOver.style.display = "flex";
  }

  function restartGame() {
    startGame();
  }

  // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯Ù
  function hitTarget() {
    if (!gameRunning) return;
    score++;
    updateScore();
    moveTarget();
  }

  target.addEventListener("click", hitTarget);
  target.addEventListener("touchstart", function(e) {
    e.preventDefault();
    hitTarget();
  }, {passive: false});
</script>

</body>
</html>
